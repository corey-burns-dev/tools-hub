---
// ThemeToggle.astro - Dark/Light mode toggle
---

<button
	id="theme-toggle"
	class="btn-bouncy bg-linear-to-r from-blue-500 to-purple-500 text-white hover:from-blue-600 hover:to-purple-600 dark:from-purple-600 dark:to-blue-600"
>
	<span id="theme-icon">ğŸŒ™</span>
</button>

<script>
	const themeToggle = document.getElementById('theme-toggle');
	const themeIcon = document.getElementById('theme-icon');
	const htmlElement = document.documentElement;

	// Check for saved theme or default to light
	const savedTheme = localStorage.getItem('theme') || 'light';
	if (savedTheme === 'dark') {
		htmlElement.classList.add('dark');
		if (themeIcon) themeIcon.textContent = 'â˜€ï¸';
	}

	themeToggle?.addEventListener('click', () => {
		const isDark = htmlElement.classList.toggle('dark');
		localStorage.setItem('theme', isDark ? 'dark' : 'light');
		if (themeIcon) themeIcon.textContent = isDark ? 'â˜€ï¸' : 'ğŸŒ™';
	});
</script>
