---
import ThemePicker from "../components/ThemePicker.astro";
import "../styles/global.css";

interface Props {
  title: string;
}

const { title } = Astro.props;

const tools = [
  { name: "Theme Showcase", icon: "ğŸ¨", path: "/theme-showcase" },
  { name: "Username Generator", icon: "ğŸ‘¤", path: "/username-generator" },
  { name: "Password Generator", icon: "ğŸ”", path: "/password-generator" },
  { name: "Lottery Generator", icon: "ğŸ°", path: "/lottery-generator" },
  { name: "Food Picker", icon: "ğŸ”", path: "/food-picker" },
  { name: "Currency Converter", icon: "ğŸ’±", path: "/currency-converter" },
  { name: "Measure Converter", icon: "ğŸ“", path: "/measurement-converter" },
  { name: "Habit Tracker", icon: "ğŸ“ˆ", path: "/habit-tracker" },
  { name: "Meme Generator", icon: "ğŸ¸", path: "/meme-generator" },
  { name: "Hash Generator", icon: "##", path: "/hash-generator" },
  { name: "Base64 Tool", icon: "64", path: "/base64-tool" },
  { name: "UUID Generator", icon: "ğŸ†”", path: "/uuid-generator" },
  { name: "JSON â†” CSV", icon: "ğŸ”", path: "/json-csv" },
  { name: "URL Encoder", icon: "ğŸ”—", path: "/url-encoder" },
];
---

<!doctype html>
<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Outfit:wght@500;700;800&display=swap"
      rel="stylesheet"
    />
    <title>{title} | Tools & Stuff</title>
  </head>
  <body class="relative min-h-screen overflow-hidden selection:bg-blue-500/30">
    <div class="flex h-screen bg-slate-950 text-slate-200">
      <!-- Sidebar -->
      <aside
        class="relative z-20 hidden w-64 flex-col border-r border-slate-800/50 bg-slate-900/50 backdrop-blur-xl md:flex"
      >
        <div class="flex flex-col gap-6 p-6">
          <!-- Brand -->
          <a href="/" class="group flex items-center gap-3">
            <div
              class="flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-blue-600 to-violet-600 text-xl shadow-lg shadow-blue-500/20 transition-all duration-300 group-hover:scale-110 group-hover:shadow-blue-500/40"
            >
              ğŸ› ï¸
            </div>
            <div class="flex flex-col">
              <h1 class="font-outfit text-xl font-bold tracking-tight text-white">Tools Hub</h1>
              <span class="text-xs font-medium text-slate-500">Pro Toolkit</span>
            </div>
          </a>

          <!-- Theme Picker -->
          <div
            class="flex items-center justify-between rounded-xl border border-slate-800 bg-slate-950/50 p-1 px-2"
          >
            <span class="px-2 text-xs font-medium tracking-wider text-slate-500 uppercase"
              >Theme</span
            >
            <div class="scale-90">
              <ThemePicker />
            </div>
          </div>
        </div>

        <!-- Navigation -->
        <nav class="custom-scrollbar flex-1 space-y-1 overflow-y-auto px-4 pb-4">
          <div class="mb-2 px-4 text-xs font-semibold tracking-wider text-slate-500 uppercase">
            Apps & Utilities
          </div>
          {
            tools.map((tool) => (
              <a
                href={tool.path}
                class="group flex items-center gap-3 rounded-lg px-4 py-2.5 text-sm font-medium text-slate-400 transition-all hover:bg-white/5 hover:text-white hover:shadow-sm"
              >
                <span class="text-lg transition-transform duration-300 group-hover:scale-110 group-hover:rotate-3">
                  {tool.icon}
                </span>
                <span>{tool.name}</span>
                {tool.path === Astro.url.pathname && (
                  <div class="ml-auto h-1.5 w-1.5 rounded-full bg-blue-500 shadow-[0_0_8px_rgba(59,130,246,0.6)]" />
                )}
              </a>
            ))
          }
        </nav>

        <!-- Footer Info -->
        <div class="border-t border-slate-800/50 p-4">
          <div
            class="rounded-xl border border-slate-800/50 bg-slate-900/50 p-4 text-center text-xs text-slate-500 backdrop-blur-sm"
          >
            <p class="font-medium text-slate-400">Tools Hub v2.1</p>
            <p class="mt-1 opacity-70">Premium Edition</p>
          </div>
        </div>
      </aside>

      <!-- Main Content -->
      <main class="relative flex-1 overflow-y-auto scroll-smooth bg-slate-950">
        <!-- Mobile Header (Visible only on small screens) -->
        <header
          class="sticky top-0 z-10 flex items-center justify-between border-b border-slate-800/50 bg-slate-950/80 px-4 py-3 backdrop-blur-md md:hidden"
        >
          <a href="/" class="flex items-center gap-2">
            <div
              class="flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-blue-600 to-violet-600"
            >
              ğŸ› ï¸
            </div>
            <span class="font-bold text-white">Tools Hub</span>
          </a>
          <button
            id="mobile-menu-toggle"
            class="rounded-lg p-2 text-slate-400 hover:bg-white/5 hover:text-white"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-6 w-6"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"></path>
            </svg>
          </button>
        </header>

        <div class="mx-auto w-full max-w-7xl px-6 py-10 pr-8 md:pr-12 lg:pr-16">
          <slot />
        </div>
      </main>
    </div>
  </body>
</html>

<style is:global>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: "Inter", system-ui, sans-serif;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: "Outfit", system-ui, sans-serif;
  }

  html {
    scroll-behavior: smooth;
  }

  ::-webkit-scrollbar {
    width: 8px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    background: rgb(59, 130, 246);
    border-radius: 4px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: rgb(37, 99, 235);
  }
</style>

<script>
  const toggle = document.getElementById("mobile-menu-toggle");
  const sidebar = document.querySelector("aside");

  if (toggle && sidebar) {
    toggle.addEventListener("click", () => {
      sidebar.classList.toggle("hidden");
      sidebar.classList.toggle("fixed");
      sidebar.classList.toggle("inset-0");
      sidebar.classList.toggle("z-50");
      sidebar.classList.toggle("w-full");
    });
  }
</script>
